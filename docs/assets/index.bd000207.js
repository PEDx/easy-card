var O=Object.defineProperty;var L=(e,t,s)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var C=(e,t,s)=>(L(e,typeof t!="symbol"?t+"":t,s),s);import{a as p,j as r,b as i,r as l,S as D,E as M,L as H,c as P,d as $,R as z,e as T,H as E,f as q,g}from"./vendor.3ac6bc22.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerpolicy&&(n.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?n.credentials="include":a.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(a){if(a.ep)return;a.ep=!0;const n=s(a);fetch(a.href,n)}};I();var k="./assets/word_list_1.717a3c59.csv",W="./assets/word_list_2.2f666f89.csv",V="./assets/word_list_3.a259e30d.csv",A="./assets/word_list_4.de2ec07c.csv",j="./assets/word_list_5.f6e578f8.csv",m;(function(e){e.One="One",e.Two="Two",e.Three="Three",e.Four="Four",e.Five="Five"})(m||(m={}));const N=["checks","grid","dots","cross-dots","diagonal-lines","horizontal-lines","vertical-lines","diagonal-stripes","horizontal-stripes","vertical-stripes","zigzag"],B=()=>{const e=N.length,t=Math.floor(Math.random()*e);return N[t]},b={[m.One]:{name:"1",count:601,text:"Strike the iron while it is hot",filePath:k,color:"linear-gradient(120deg, #f093fb 0%, #f5576c 100%)",arcColor:"#f093fb"},[m.Two]:{name:"2",count:986,text:"It\u2019s the easiest thing in the world for a man to deceive himself",filePath:W,color:"linear-gradient(to right, #4facfe 0%, #00f2fe 100%)",arcColor:"#4facfe"},[m.Three]:{name:"3",count:1484,text:"Man proposes, God disposes",filePath:V,color:"linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%)",arcColor:"#a18cd1"},[m.Four]:{name:"4",count:3047,text:"Strong in action, gentle in method",filePath:A,color:"linear-gradient(to top, #0ba360 0%, #3cba92 100%)",arcColor:"#0ba360"},[m.Five]:{name:"5",count:7715,text:"Do your best and then let go",filePath:j,color:"linear-gradient(to right, #eea2a2 0%, #bbc1bf 19%, #57c6e1 42%, #b49fda 79%, #7ac5d8 100%)",arcColor:"#eea2a2"}},y="https://service-3ya92fd6-1300479587.gz.apigw.tencentcs.com/release";p.interceptors.response.use(e=>e.data);const _=e=>p.get(`${y}/search/${e}`),J=e=>p.get(`${y}/collins/${e}`),G=e=>p.get(`${e}`);_("good").then(e=>{console.log(e.data)});const S=()=>(console.log(b),r("div",{className:"word-card-app",children:Object.values(b).map((e,t)=>i("div",{className:"style-card button",children:[r("div",{className:"name",children:e.name}),r("div",{className:"count",children:e.count}),r("div",{className:"text",children:e.text}),r("div",{className:`pattern-box pattern-${B()}-sm`})]},t))}));class K{constructor(){C(this,"_storage");this._storage=window.localStorage}set(t,s){this._storage.setItem(t,JSON.stringify(s))}get(t){const s=this._storage.getItem(t)||'""';return JSON.parse(s)}}class U extends K{constructor(){super();console.log("helper")}getCSVDataFromRemoteOrCache(t){return this.cacheRequestFactory(`csv_${t}`,G,b[t].filePath)}getWordDataFromRemoteOrCache(t){return this.cacheRequestFactory(`word_${t}`,_,t)}getCollinsWordDataFromRemoteOrCache(t){return this.cacheRequestFactory(`collins_${t}`,J,t)}cacheRequestFactory(t,s,o){const a=this.get(t);return a?Promise.resolve(a):new Promise((n,c)=>{s(o).then(d=>{let h=d.data?d.data:d;this.set(t,h),n(h)}).catch(c)})}beautifyCollinsHTMLString(t){const s=document.createDocumentFragment(),o=document.createElement("DIV");o.innerHTML=t,s.appendChild(o);const a=s.querySelectorAll(".col2");return o.innerHTML="",Array.from(a).forEach(n=>{o.appendChild(n)}),o}}const v=new U,Q=({word:e})=>{const[t,s]=l.exports.useState(!1),o=l.exports.useRef(null);return l.exports.useEffect(()=>{var a;(a=o.current)==null||a.addEventListener("pause",()=>{s(!1)})},[]),i("div",{className:"audio-player button",onClick:()=>{var a,n;if(s(!t),!t){(a=o.current)==null||a.play();return}(n=o.current)==null||n.pause()},children:[r("audio",{src:`https://dict.youdao.com/dictvoice?audio=${e}&type=2`,ref:o}),r("svg",{viewBox:"0 0 1024 1024",version:"1.1","p-id":"12565",children:t?r("path",{d:"M512 149.333333c200.298667 0 362.666667 162.368 362.666667 362.666667s-162.368 362.666667-362.666667 362.666667S149.333333 712.298667 149.333333 512 311.701333 149.333333 512 149.333333z m53.333333 256h-106.666666a53.333333 53.333333 0 0 0-53.333334 53.333334v106.666666a53.333333 53.333333 0 0 0 53.333334 53.333334h106.666666a53.333333 53.333333 0 0 0 53.333334-53.333334v-106.666666a53.333333 53.333333 0 0 0-53.333334-53.333334z","p-id":"6632",fill:"currentColor"}):r("path",{d:"M512 149.333333c200.298667 0 362.666667 162.368 362.666667 362.666667s-162.368 362.666667-362.666667 362.666667S149.333333 712.298667 149.333333 512 311.701333 149.333333 512 149.333333z m-50.56 234.666667c-19.2 0-34.773333 15.573333-34.773333 34.773333v182.997334a34.773333 34.773333 0 0 0 53.546666 29.248l143.808-92.394667a34.773333 34.773333 0 0 0-0.256-58.666667l-143.808-90.602666a34.773333 34.773333 0 0 0-18.538666-5.354667z","p-id":"12713",fill:"currentColor"})})]})};const X=e=>{if(!/^(\w+. )+/gi.test(e))return[[e],""];const[s,o,a]=e.split(/^(\w+. )+/gi);return[a.split("\uFF1B").slice(0,10),o]},Y=l.exports.forwardRef(({word:e},t)=>{const[s,o]=l.exports.useState(null),[a,n]=l.exports.useState(""),[c,d]=l.exports.useState(!1);if(l.exports.useImperativeHandle(t,()=>({showWordData(){v.getWordDataFromRemoteOrCache(e).then(u=>{o(u)}),v.getCollinsWordDataFromRemoteOrCache(e).then(u=>{const f=v.beautifyCollinsHTMLString(u);n(f.innerHTML)})}}),[]),!s)return r("div",{className:"word-card flex-box-c loading",children:"Loading..."});const{basic:h}=s;return i("div",{className:["word-card",c?"rolling-over":""].join(" "),children:[i("div",{className:"front card-wrap",children:[i("div",{className:"inner-content",children:[r("div",{className:"word",children:s.query}),r("div",{className:"audio",children:r(Q,{word:e})}),i("div",{className:"phonetic",children:[i("span",{children:["/",h["us-phonetic"],"/"]}),r("span",{className:"tag-num",children:Array.from({length:h.exam_type.length}).map((u,f)=>r("span",{className:"star",children:"\u2605"},f))})]}),r("div",{className:"explains",children:h.explains.map((u,f)=>{const[w,x]=X(u);return x?i("div",{children:[r("span",{className:"lable",children:x}),w.map((R,F)=>r("span",{className:"txt",children:R.trim()},F))]},f):w[0]||""})}),r("div",{className:"wfs",children:h.wfs&&h.wfs.map(({wf:u},f)=>i("div",{className:"wf-wrap",children:[i("span",{className:"name",children:[" ",u.name,":"]}),r("span",{className:"wf-value",children:u.value})]},f))})]}),r("div",{className:"bottom-btn",children:r("div",{className:"collins-button card-button",onClick:()=>d(!c),children:"Collins"})})]}),i("div",{className:"back card-wrap",children:[r("div",{className:"collins-content inner-content",dangerouslySetInnerHTML:{__html:a}}),r("div",{className:"bottom-btn",children:r("div",{className:"collins-button card-button",onClick:()=>d(!c),children:"Return"})})]})]})});D.use([M]);const Z=()=>{const[e,t]=l.exports.useState([]),[s,o]=l.exports.useState(-1),a=l.exports.useRef([]);l.exports.useEffect(()=>{v.getCSVDataFromRemoteOrCache(m.One).then(c=>{const d=c.split(`\r
`);t(d.slice(0,5)),o(0)})},[]);const n=l.exports.useCallback(c=>{o(c.activeIndex)},[]);return l.exports.useEffect(()=>{const c=a.current[s];!c||c.showWordData()},[s]),i("div",{className:"card-stack",children:[r("div",{className:"home-button button flex-box-c",children:r(H,{to:"/home",children:i("svg",{viewBox:"0 0 24 24",width:"24",height:"24",children:[r("path",{fill:"none",d:"M0 0h24v24H0z"}),r("path",{fill:"rgba(11,97,255,1)",d:"M13 19h6V9.978l-7-5.444-7 5.444V19h6v-6h2v6zm8 1a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.49a1 1 0 0 1 .386-.79l8-6.222a1 1 0 0 1 1.228 0l8 6.222a1 1 0 0 1 .386.79V20z"})]})})}),r(P,{effect:"cards",grabCursor:!0,onSlideChange:n,children:e.map((c,d)=>r($,{children:r(Y,{word:c,ref:h=>a.current[d]=h})},d))})]})};z.render(r(T.StrictMode,{children:r(E,{children:i(q,{children:[r(g,{path:"/",element:r(S,{})}),r(g,{path:"/home",element:r(S,{})}),r(g,{path:"/card",element:r(Z,{})})]})})}),document.getElementById("root"));
