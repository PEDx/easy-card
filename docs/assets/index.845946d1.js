var x=Object.defineProperty;var S=(t,e,a)=>e in t?x(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a;var C=(t,e,a)=>(S(t,typeof e!="symbol"?e+"":e,a),a);import{a as p,r as i,j as u,b as s,S as N,E as F,c as R,d as O,R as D,e as L}from"./vendor.a470541b.js";const M=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerpolicy&&(o.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?o.credentials="include":r.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}};M();const b="https://service-3ya92fd6-1300479587.gz.apigw.tencentcs.com/release";p.interceptors.response.use(t=>t.data);const P=t=>p.get(`${b}/search/${t}`),T=t=>p.get(`${b}/collins/${t}`),$=t=>p.get(`${t}`);var E="/assets/word_list_1.717a3c59.csv",q="/assets/word_list_2.2f666f89.csv",I="/assets/word_list_3.a259e30d.csv",W="/assets/word_list_4.de2ec07c.csv",H="/assets/word_list_5.f6e578f8.csv",f;(function(t){t.One="One",t.Two="Two",t.Three="Three",t.Four="Four",t.Five="Five"})(f||(f={}));const k={[f.One]:{name:"Stage 1",count:601,text:"Strike the iron while it is hot",filePath:E,color:"linear-gradient(120deg, #f093fb 0%, #f5576c 100%)",arcColor:"#f093fb"},[f.Two]:{name:"Stage 2",count:986,text:"It\u2019s the easiest thing in the world for a man to deceive himself",filePath:q,color:"linear-gradient(to right, #4facfe 0%, #00f2fe 100%)",arcColor:"#4facfe"},[f.Three]:{name:"Stage 3",count:1484,text:"Man proposes, God disposes",filePath:I,color:"linear-gradient(to top, #a18cd1 0%, #fbc2eb 100%)",arcColor:"#a18cd1"},[f.Four]:{name:"Stage 4",count:3047,text:"Strong in action, gentle in method",filePath:W,color:"linear-gradient(to top, #0ba360 0%, #3cba92 100%)",arcColor:"#0ba360"},[f.Five]:{name:"Stage 5",count:7715,text:"Do your best and then let go",filePath:H,color:"linear-gradient(to right, #eea2a2 0%, #bbc1bf 19%, #57c6e1 42%, #b49fda 79%, #7ac5d8 100%)",arcColor:"#eea2a2"}};class A{constructor(){C(this,"_storage");this._storage=window.localStorage}set(e,a){this._storage.setItem(e,JSON.stringify(a))}get(e){const a=this._storage.getItem(e)||'""';return JSON.parse(a)}}class j extends A{constructor(){super();console.log("helper")}getCSVDataFromRemoteOrCache(e){return this.cacheRequestFactory(`csv_${e}`,$,k[e].filePath)}getWordDataFromRemoteOrCache(e){return this.cacheRequestFactory(`word_${e}`,P,e)}getCollinsWordDataFromRemoteOrCache(e){return this.cacheRequestFactory(`collins_${e}`,T,e)}cacheRequestFactory(e,a,n){const r=this.get(e);return r?Promise.resolve(r):new Promise((o,c)=>{a(n).then(l=>{let d=l.data?l.data:l;this.set(e,d),o(d)}).catch(c)})}beautifyCollinsHTMLString(e){const a=document.createDocumentFragment(),n=document.createElement("DIV");n.innerHTML=e,a.appendChild(n);const r=a.querySelectorAll(".col2");return n.innerHTML="",Array.from(r).forEach(o=>{n.appendChild(o)}),n}}const g=new j,z=({word:t})=>{const[e,a]=i.exports.useState(!1),n=i.exports.useRef(null);return i.exports.useEffect(()=>{var r;(r=n.current)==null||r.addEventListener("pause",()=>{a(!1)})},[]),u("div",{className:"audio-player button",onClick:()=>{var r,o;if(a(!e),!e){(r=n.current)==null||r.play();return}(o=n.current)==null||o.pause()},children:[s("audio",{src:`https://dict.youdao.com/dictvoice?audio=${t}&type=2`,ref:n}),s("svg",{viewBox:"0 0 1024 1024",version:"1.1","p-id":"12565",children:e?s("path",{d:"M512 149.333333c200.298667 0 362.666667 162.368 362.666667 362.666667s-162.368 362.666667-362.666667 362.666667S149.333333 712.298667 149.333333 512 311.701333 149.333333 512 149.333333z m53.333333 256h-106.666666a53.333333 53.333333 0 0 0-53.333334 53.333334v106.666666a53.333333 53.333333 0 0 0 53.333334 53.333334h106.666666a53.333333 53.333333 0 0 0 53.333334-53.333334v-106.666666a53.333333 53.333333 0 0 0-53.333334-53.333334z","p-id":"6632",fill:"currentColor"}):s("path",{d:"M512 149.333333c200.298667 0 362.666667 162.368 362.666667 362.666667s-162.368 362.666667-362.666667 362.666667S149.333333 712.298667 149.333333 512 311.701333 149.333333 512 149.333333z m-50.56 234.666667c-19.2 0-34.773333 15.573333-34.773333 34.773333v182.997334a34.773333 34.773333 0 0 0 53.546666 29.248l143.808-92.394667a34.773333 34.773333 0 0 0-0.256-58.666667l-143.808-90.602666a34.773333 34.773333 0 0 0-18.538666-5.354667z","p-id":"12713",fill:"currentColor"})})]})};const V=t=>{if(!/^(\w+. )+/gi.test(t))return[[t],""];const[a,n,r]=t.split(/^(\w+. )+/gi);return[r.split("\uFF1B").slice(0,10),n]},B=i.exports.forwardRef(({word:t},e)=>{const[a,n]=i.exports.useState(null),[r,o]=i.exports.useState(""),[c,l]=i.exports.useState(!1);if(i.exports.useImperativeHandle(e,()=>({showWordData(){g.getWordDataFromRemoteOrCache(t).then(h=>{n(h)}),g.getCollinsWordDataFromRemoteOrCache(t).then(h=>{const m=g.beautifyCollinsHTMLString(h);o(m.innerHTML)})}}),[]),!a)return s("div",{className:"word-card flex-box-c loading",children:"Loading..."});const{basic:d}=a;return u("div",{className:["word-card",c?"rolling-over":""].join(" "),children:[u("div",{className:"front card-wrap",children:[u("div",{className:"inner-content",children:[s("div",{className:"word",children:a.query}),s("div",{className:"audio",children:s(z,{word:t})}),u("div",{className:"phonetic",children:[u("span",{children:["/",d["us-phonetic"],"/"]}),s("span",{className:"tag-num",children:Array.from({length:d.exam_type.length}).map((h,m)=>s("span",{className:"star",children:"\u2605"},m))})]}),s("div",{className:"explains",children:d.explains.map((h,m)=>{const[v,w]=V(h);return w?u("div",{children:[s("span",{className:"lable",children:w}),v.map((y,_)=>s("span",{className:"txt",children:y.trim()},_))]},m):v[0]||""})}),s("div",{className:"wfs",children:d.wfs&&d.wfs.map(({wf:h},m)=>u("div",{className:"wf-wrap",children:[u("span",{className:"name",children:[" ",h.name,":"]}),s("span",{className:"wf-value",children:h.value})]},m))})]}),s("div",{className:"bottom-btn",children:s("div",{className:"collins-button card-button",onClick:()=>l(!c),children:"Collins"})})]}),u("div",{className:"back card-wrap",children:[s("div",{className:"collins-content inner-content",dangerouslySetInnerHTML:{__html:r}}),s("div",{className:"bottom-btn",children:s("div",{className:"collins-button card-button",onClick:()=>l(!c),children:"Return"})})]})]})});N.use([F]);const J=()=>{const[t,e]=i.exports.useState([]),[a,n]=i.exports.useState(-1),r=i.exports.useRef([]);i.exports.useEffect(()=>{g.getCSVDataFromRemoteOrCache(f.One).then(c=>{const l=c.split(`\r
`);e(l.slice(0,5)),n(0)})},[]);const o=i.exports.useCallback(c=>{n(c.activeIndex)},[]);return i.exports.useEffect(()=>{const c=r.current[a];!c||c.showWordData()},[a]),s("div",{className:"card-stack",children:s(R,{effect:"cards",grabCursor:!0,onSlideChange:o,children:t.map((c,l)=>s(O,{children:s(B,{word:c,ref:d=>r.current[l]=d})},l))})})};D.render(s(L.StrictMode,{children:s(J,{})}),document.getElementById("root"));
